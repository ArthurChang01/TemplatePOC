
@{
    Layout = null;
}

<div ng-controller="lobbyCtrl as vm">
    <div class="row">
        <ul class="nav nav-tabs">
            <li role="presentation" class="active" ng-switch="vm.IsAdd">
                <a ng-switch-when="true" href="#">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    Add Lobby
                </a>
                <a ng-switch-when="false" href="#">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    Edite Lobby
                </a>
            </li>
        </ul>
    </div>

    <br />

    <div class="row">
        <form role="form" name="form" class="col-md-10 col-md-offset-1">

            <div class="form-group">
                <label for="name">Name:</label>
                <input id="name" name="name" type="text" class="form-control" ng-model="vm.model.Name" value="" validator="required" />
            </div>

            <div class="form-group">
                <label for="description">Description:</label>
                <textarea id="description" name="description" class="form-control" rows="5" ng-model="vm.model.Description"></textarea>
            </div>

            <div class="form-group">
                <label for="type">Type:</label>
                <select id="type" name="type" class="form-control" ng-model="vm.model.Type" validator="required">
                    <option value="">---Please select---</option>
                    <option value="0">Mobile</option>
                    <option value="1">Desktop</option>
                </select>
            </div>

            <div class="form-group">
                <label for="template">Template:</label>
                <select id="template" name="template" class="form-control" ng-model="vm.model.TemplateId" ng-options="template.Id as template.Name for template in vm.model.Templates" validator="required">
                    <option value="">---Please select---</option>
                </select>
            </div>

            <div class="form-group">
                <label>Game Groups:</label>
                <button type="button" class="btn btn-info" ng-click="vm.AddGameGroup()">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    Add Group
                </button>
                <ul class="list-group col-md-offset-1">
                    <li class="list-group-item list-group-item-info" ng-repeat="group in vm.model.GameGroups">
                        <span></span>
                        {{group.Name}}
                        <a href="javascript:void(0);" ng-click="vm.RemoveGameGroup(group)">
                            <span class="glyphicon glyphicon-minus pull-right text-danger"></span>
                        </a>
                        <a href="javascript:void(0);" ng-click="vm.UpdateGameGroup(group)">
                            <span class="glyphicon glyphicon-pencil pull-right"></span>
                        </a>
                    </li>

                </ul>
            </div>

            <div class="form-group pull-right">
                <button type="button" class="btn btn-info" ng-click="vm.OnPreview()">
                    Preview
                </button>
            </div>

            <br style="clear:both" />

            <div class="form-group">
                <label for="css">CSS:</label>
                <textarea css-editor id="css" name="css" content="vm.model.CSS" css-validation></textarea>
                <span ng-show="form.css.$error.cssValidation" style="color:red;">
                    Incorrect CSS
                </span>
            </div>

            <div class="form-group pull-right">
                <button type="submit" class="btn btn-success" validation-submit="form" ng-click="vm.OnSave()">
                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                    Save
                </button>
                <a ui-sref="reseller" class="btn btn-danger">
                    <span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
                    Cancel
                </a>
            </div>
        </form>
    </div>

</div>



